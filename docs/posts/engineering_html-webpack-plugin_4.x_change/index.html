<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>html-webpack-plugin 4.x å¯¹å¤šæ¨¡æ¿ä¸‹çƒ­é‡è½½ç¼“æ…¢é—®é¢˜çš„ä¿®å¤ | GeekHouse | ä¸è‚¥çš„è‚¥ç¾Š</title>
<meta name=keywords content="Engineering">
<meta name=description content="å‰è¨€ æ‰‹ä¸Šçš„å…¬å¸é¡¹ç›®çƒ­é‡è½½ä¸€ç›´å¾ˆæ…¢ï¼Œæ¯æ¬¡çƒ­é‡è½½å¤§æ¦‚è¦ 15s å·¦å³ï¼Œæœ€è¿‘å®åœ¨å¿æ— å¯å¿ï¼Œå†³å®šæ’æŸ¥ä¸€ä¸‹ã€‚
çŒœæƒ³ é¡¹ç›®æ˜¯åŸºäº vue-cli2 æ­å»ºçš„ï¼Œå‰äººå°† webpack å‡çº§åˆ°äº† webpack4ã€‚å‡ºäºå†å²åŸå› ï¼Œå…¬å¸é¡¹ç›®çš„æ¨¡å—æ˜¯æ ¹æ®æ¨¡æ¿ï¼ˆ.htmlï¼‰åˆ’åˆ†çš„ï¼Œå› æ­¤é¡¹ç›®ä¸­å­˜åœ¨è¶…è¿‡ 30 ä¸ªæ¨¡æ¿ã€‚è¿™è®©æˆ‘æƒ³èµ·äº†ä¹‹å‰åœ¨ä¼˜åŒ–ä¸€ä¸ª webpack3 é¡¹ç›®çš„æ—¶å€™ï¼Œä¹Ÿé‡åˆ°è¿‡ç±»ä¼¼çš„å¤šæ¨¡æ¿çƒ­é‡è½½ç¼“æ…¢çš„æƒ…å†µï¼Œå½“æ—¶æ˜¯ä½¿ç”¨ html-webpack-plugin-for-multihtml åº“ è§£å†³äº†é—®é¢˜ï¼Œå› æ­¤æˆ‘æƒ³ï¼Œè¿™æ¬¡ä¼šä¸ä¼šä¹Ÿæ˜¯ html-webpack-plugin çš„é”…å‘¢ï¼Ÿ
å‡çº§ html-webpack-plugin é—®é¢˜è§£å†³ æˆ‘å°è¯•æŠŠ html-webpack-plugin å‡çº§åˆ°äº†æœ€æ–°çš„ @4.0.0-beta.8 ç‰ˆæœ¬ï¼Œå‘ç°çƒ­é‡è½½é€Ÿåº¦é™åˆ°äº† 1s å·¦å³ï¼
é—®é¢˜è§£å†³äº†ï¼Œå¯æ˜¯å…¶ä¸­çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
ä½¿ç”¨ cpuprofile-webpack-plugin è¿›è¡Œæ€§èƒ½åˆ†æ cpuprofile-webpack-plugin æ˜¯ä¸€ä¸ªå›¾å½¢åŒ–çš„ webpack æ„å»ºæ€§èƒ½åˆ†æå·¥å…·ï¼Œå®ƒä¼šç»Ÿè®¡æ„å»ºè¿‡ç¨‹ä¸­æ¯ä¸ªæ’ä»¶è¿è¡Œçš„æ—¶é—´ï¼Œè¿˜ä¼šç”Ÿæˆæ•´ä¸ªæ„å»ºè¿‡ç¨‹çš„ç«ç„°å›¾ï¼Œå¦‚ä¸‹å›¾ï¼Œå®ƒè®°å½•äº†æˆ‘çš„é¡¹ç›®ä½¿ç”¨ html-webpack-plugin@3.2.0 æ—¶ä¸€æ¬¡çƒ­é‡è½½çš„æ€§èƒ½åˆ†æï¼š
 å›¾ï¼šcpuprofile-webpack-plugin åˆ†æç»“æœ
 æˆ‘ä»¬å‘ç°åœ¨æ•´ä¸ª 15.94s çš„çƒ­é‡è½½è¿‡ç¨‹ä¸­ï¼Œhtml-webpack-plugin çš„è¿è¡Œæ—¶é—´å æ®äº† 13.51sï¼Œå¯ä»¥è¯´å‡ ä¹å…¨éƒ¨æ—¶é—´éƒ½ç”¨åœ¨äº†è¿™ä¸Šé¢ï¼Œè¿™ä¸ªå›¾ä¹ŸéªŒè¯äº†æˆ‘çš„çŒœæƒ³ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç«ç„°å›¾è¿›ä¸€æ­¥åˆ†æï¼Œé¦–å…ˆæ‰¾ä¸€ä¸ªè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ html-webpack-plugin æ‰§è¡Œè¿‡ç¨‹ï¼š
 å›¾ï¼šä¸€æ¬¡æ—¶é—´è¾ƒé•¿çš„ html-webpack-plugin è¿è¡Œ
 ç‚¹å‡»è¿›å»ï¼ŒæŸ¥çœ‹æ›´è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æï¼š
 å›¾ï¼šhtml-webpack-plugin è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æ
 å‘ç°å…¨éƒ¨è€—æ—¶é›†ä¸­åœ¨ html-webpack-plugin/index.js -> templateParametersGenerator -> toJson å‡½æ•°ä¸Šã€‚
æŸ¥çœ‹æºç  é¦–å…ˆæŸ¥çœ‹äº†æœ€æ–°ç‰ˆï¼ˆ4.0.0-beta.8ï¼‰ä¸­ templateParametersGenerator æ–¹æ³•çš„æºç ï¼Œå¯ä»¥çœ‹å‡ºå®ƒæ˜¯ç”¨æ¥ç”Ÿæˆ templateParameters çš„é»˜è®¤é…ç½®çš„ï¼Œè€Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­å®ƒå¹¶æ²¡æœ‰è°ƒç”¨ toJson æ–¹æ³•ï¼š">
<meta name=author content="YYJ">
<link rel=canonical href=https://geekhouse.top/posts/engineering_html-webpack-plugin_4.x_change/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.83c4eb6d61e6a4176992e4a4ce8786fc30bd40032ba8663ec5d11e285a965766.css integrity="sha256-g8TrbWHmpBdpkuSkzoeG/DC9QAMrqGY+xdEeKFqWV2Y=" rel="preload stylesheet" as=style>
<link rel=icon href=https://geekhouse.top/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://geekhouse.top/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://geekhouse.top/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://geekhouse.top/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://geekhouse.top/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.1">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-184187677-2','auto'),ga('send','pageview'))</script><meta property="og:title" content="html-webpack-plugin 4.x å¯¹å¤šæ¨¡æ¿ä¸‹çƒ­é‡è½½ç¼“æ…¢é—®é¢˜çš„ä¿®å¤">
<meta property="og:description" content="å‰è¨€ æ‰‹ä¸Šçš„å…¬å¸é¡¹ç›®çƒ­é‡è½½ä¸€ç›´å¾ˆæ…¢ï¼Œæ¯æ¬¡çƒ­é‡è½½å¤§æ¦‚è¦ 15s å·¦å³ï¼Œæœ€è¿‘å®åœ¨å¿æ— å¯å¿ï¼Œå†³å®šæ’æŸ¥ä¸€ä¸‹ã€‚
çŒœæƒ³ é¡¹ç›®æ˜¯åŸºäº vue-cli2 æ­å»ºçš„ï¼Œå‰äººå°† webpack å‡çº§åˆ°äº† webpack4ã€‚å‡ºäºå†å²åŸå› ï¼Œå…¬å¸é¡¹ç›®çš„æ¨¡å—æ˜¯æ ¹æ®æ¨¡æ¿ï¼ˆ.htmlï¼‰åˆ’åˆ†çš„ï¼Œå› æ­¤é¡¹ç›®ä¸­å­˜åœ¨è¶…è¿‡ 30 ä¸ªæ¨¡æ¿ã€‚è¿™è®©æˆ‘æƒ³èµ·äº†ä¹‹å‰åœ¨ä¼˜åŒ–ä¸€ä¸ª webpack3 é¡¹ç›®çš„æ—¶å€™ï¼Œä¹Ÿé‡åˆ°è¿‡ç±»ä¼¼çš„å¤šæ¨¡æ¿çƒ­é‡è½½ç¼“æ…¢çš„æƒ…å†µï¼Œå½“æ—¶æ˜¯ä½¿ç”¨ html-webpack-plugin-for-multihtml åº“ è§£å†³äº†é—®é¢˜ï¼Œå› æ­¤æˆ‘æƒ³ï¼Œè¿™æ¬¡ä¼šä¸ä¼šä¹Ÿæ˜¯ html-webpack-plugin çš„é”…å‘¢ï¼Ÿ
å‡çº§ html-webpack-plugin é—®é¢˜è§£å†³ æˆ‘å°è¯•æŠŠ html-webpack-plugin å‡çº§åˆ°äº†æœ€æ–°çš„ @4.0.0-beta.8 ç‰ˆæœ¬ï¼Œå‘ç°çƒ­é‡è½½é€Ÿåº¦é™åˆ°äº† 1s å·¦å³ï¼
é—®é¢˜è§£å†³äº†ï¼Œå¯æ˜¯å…¶ä¸­çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
ä½¿ç”¨ cpuprofile-webpack-plugin è¿›è¡Œæ€§èƒ½åˆ†æ cpuprofile-webpack-plugin æ˜¯ä¸€ä¸ªå›¾å½¢åŒ–çš„ webpack æ„å»ºæ€§èƒ½åˆ†æå·¥å…·ï¼Œå®ƒä¼šç»Ÿè®¡æ„å»ºè¿‡ç¨‹ä¸­æ¯ä¸ªæ’ä»¶è¿è¡Œçš„æ—¶é—´ï¼Œè¿˜ä¼šç”Ÿæˆæ•´ä¸ªæ„å»ºè¿‡ç¨‹çš„ç«ç„°å›¾ï¼Œå¦‚ä¸‹å›¾ï¼Œå®ƒè®°å½•äº†æˆ‘çš„é¡¹ç›®ä½¿ç”¨ html-webpack-plugin@3.2.0 æ—¶ä¸€æ¬¡çƒ­é‡è½½çš„æ€§èƒ½åˆ†æï¼š
 å›¾ï¼šcpuprofile-webpack-plugin åˆ†æç»“æœ
 æˆ‘ä»¬å‘ç°åœ¨æ•´ä¸ª 15.94s çš„çƒ­é‡è½½è¿‡ç¨‹ä¸­ï¼Œhtml-webpack-plugin çš„è¿è¡Œæ—¶é—´å æ®äº† 13.51sï¼Œå¯ä»¥è¯´å‡ ä¹å…¨éƒ¨æ—¶é—´éƒ½ç”¨åœ¨äº†è¿™ä¸Šé¢ï¼Œè¿™ä¸ªå›¾ä¹ŸéªŒè¯äº†æˆ‘çš„çŒœæƒ³ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç«ç„°å›¾è¿›ä¸€æ­¥åˆ†æï¼Œé¦–å…ˆæ‰¾ä¸€ä¸ªè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ html-webpack-plugin æ‰§è¡Œè¿‡ç¨‹ï¼š
 å›¾ï¼šä¸€æ¬¡æ—¶é—´è¾ƒé•¿çš„ html-webpack-plugin è¿è¡Œ
 ç‚¹å‡»è¿›å»ï¼ŒæŸ¥çœ‹æ›´è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æï¼š
 å›¾ï¼šhtml-webpack-plugin è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æ
 å‘ç°å…¨éƒ¨è€—æ—¶é›†ä¸­åœ¨ html-webpack-plugin/index.js -> templateParametersGenerator -> toJson å‡½æ•°ä¸Šã€‚
æŸ¥çœ‹æºç  é¦–å…ˆæŸ¥çœ‹äº†æœ€æ–°ç‰ˆï¼ˆ4.0.0-beta.8ï¼‰ä¸­ templateParametersGenerator æ–¹æ³•çš„æºç ï¼Œå¯ä»¥çœ‹å‡ºå®ƒæ˜¯ç”¨æ¥ç”Ÿæˆ templateParameters çš„é»˜è®¤é…ç½®çš„ï¼Œè€Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­å®ƒå¹¶æ²¡æœ‰è°ƒç”¨ toJson æ–¹æ³•ï¼š">
<meta property="og:type" content="article">
<meta property="og:url" content="https://geekhouse.top/posts/engineering_html-webpack-plugin_4.x_change/"><meta property="og:image" content="https://geekhouse.top/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-10-11T00:00:00+00:00">
<meta property="article:modified_time" content="2019-10-11T00:00:00+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://geekhouse.top/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="html-webpack-plugin 4.x å¯¹å¤šæ¨¡æ¿ä¸‹çƒ­é‡è½½ç¼“æ…¢é—®é¢˜çš„ä¿®å¤">
<meta name=twitter:description content="å‰è¨€ æ‰‹ä¸Šçš„å…¬å¸é¡¹ç›®çƒ­é‡è½½ä¸€ç›´å¾ˆæ…¢ï¼Œæ¯æ¬¡çƒ­é‡è½½å¤§æ¦‚è¦ 15s å·¦å³ï¼Œæœ€è¿‘å®åœ¨å¿æ— å¯å¿ï¼Œå†³å®šæ’æŸ¥ä¸€ä¸‹ã€‚
çŒœæƒ³ é¡¹ç›®æ˜¯åŸºäº vue-cli2 æ­å»ºçš„ï¼Œå‰äººå°† webpack å‡çº§åˆ°äº† webpack4ã€‚å‡ºäºå†å²åŸå› ï¼Œå…¬å¸é¡¹ç›®çš„æ¨¡å—æ˜¯æ ¹æ®æ¨¡æ¿ï¼ˆ.htmlï¼‰åˆ’åˆ†çš„ï¼Œå› æ­¤é¡¹ç›®ä¸­å­˜åœ¨è¶…è¿‡ 30 ä¸ªæ¨¡æ¿ã€‚è¿™è®©æˆ‘æƒ³èµ·äº†ä¹‹å‰åœ¨ä¼˜åŒ–ä¸€ä¸ª webpack3 é¡¹ç›®çš„æ—¶å€™ï¼Œä¹Ÿé‡åˆ°è¿‡ç±»ä¼¼çš„å¤šæ¨¡æ¿çƒ­é‡è½½ç¼“æ…¢çš„æƒ…å†µï¼Œå½“æ—¶æ˜¯ä½¿ç”¨ html-webpack-plugin-for-multihtml åº“ è§£å†³äº†é—®é¢˜ï¼Œå› æ­¤æˆ‘æƒ³ï¼Œè¿™æ¬¡ä¼šä¸ä¼šä¹Ÿæ˜¯ html-webpack-plugin çš„é”…å‘¢ï¼Ÿ
å‡çº§ html-webpack-plugin é—®é¢˜è§£å†³ æˆ‘å°è¯•æŠŠ html-webpack-plugin å‡çº§åˆ°äº†æœ€æ–°çš„ @4.0.0-beta.8 ç‰ˆæœ¬ï¼Œå‘ç°çƒ­é‡è½½é€Ÿåº¦é™åˆ°äº† 1s å·¦å³ï¼
é—®é¢˜è§£å†³äº†ï¼Œå¯æ˜¯å…¶ä¸­çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
ä½¿ç”¨ cpuprofile-webpack-plugin è¿›è¡Œæ€§èƒ½åˆ†æ cpuprofile-webpack-plugin æ˜¯ä¸€ä¸ªå›¾å½¢åŒ–çš„ webpack æ„å»ºæ€§èƒ½åˆ†æå·¥å…·ï¼Œå®ƒä¼šç»Ÿè®¡æ„å»ºè¿‡ç¨‹ä¸­æ¯ä¸ªæ’ä»¶è¿è¡Œçš„æ—¶é—´ï¼Œè¿˜ä¼šç”Ÿæˆæ•´ä¸ªæ„å»ºè¿‡ç¨‹çš„ç«ç„°å›¾ï¼Œå¦‚ä¸‹å›¾ï¼Œå®ƒè®°å½•äº†æˆ‘çš„é¡¹ç›®ä½¿ç”¨ html-webpack-plugin@3.2.0 æ—¶ä¸€æ¬¡çƒ­é‡è½½çš„æ€§èƒ½åˆ†æï¼š
 å›¾ï¼šcpuprofile-webpack-plugin åˆ†æç»“æœ
 æˆ‘ä»¬å‘ç°åœ¨æ•´ä¸ª 15.94s çš„çƒ­é‡è½½è¿‡ç¨‹ä¸­ï¼Œhtml-webpack-plugin çš„è¿è¡Œæ—¶é—´å æ®äº† 13.51sï¼Œå¯ä»¥è¯´å‡ ä¹å…¨éƒ¨æ—¶é—´éƒ½ç”¨åœ¨äº†è¿™ä¸Šé¢ï¼Œè¿™ä¸ªå›¾ä¹ŸéªŒè¯äº†æˆ‘çš„çŒœæƒ³ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç«ç„°å›¾è¿›ä¸€æ­¥åˆ†æï¼Œé¦–å…ˆæ‰¾ä¸€ä¸ªè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ html-webpack-plugin æ‰§è¡Œè¿‡ç¨‹ï¼š
 å›¾ï¼šä¸€æ¬¡æ—¶é—´è¾ƒé•¿çš„ html-webpack-plugin è¿è¡Œ
 ç‚¹å‡»è¿›å»ï¼ŒæŸ¥çœ‹æ›´è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æï¼š
 å›¾ï¼šhtml-webpack-plugin è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æ
 å‘ç°å…¨éƒ¨è€—æ—¶é›†ä¸­åœ¨ html-webpack-plugin/index.js -> templateParametersGenerator -> toJson å‡½æ•°ä¸Šã€‚
æŸ¥çœ‹æºç  é¦–å…ˆæŸ¥çœ‹äº†æœ€æ–°ç‰ˆï¼ˆ4.0.0-beta.8ï¼‰ä¸­ templateParametersGenerator æ–¹æ³•çš„æºç ï¼Œå¯ä»¥çœ‹å‡ºå®ƒæ˜¯ç”¨æ¥ç”Ÿæˆ templateParameters çš„é»˜è®¤é…ç½®çš„ï¼Œè€Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­å®ƒå¹¶æ²¡æœ‰è°ƒç”¨ toJson æ–¹æ³•ï¼š">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://geekhouse.top/posts/"},{"@type":"ListItem","position":2,"name":"html-webpack-plugin 4.x å¯¹å¤šæ¨¡æ¿ä¸‹çƒ­é‡è½½ç¼“æ…¢é—®é¢˜çš„ä¿®å¤","item":"https://geekhouse.top/posts/engineering_html-webpack-plugin_4.x_change/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"html-webpack-plugin 4.x å¯¹å¤šæ¨¡æ¿ä¸‹çƒ­é‡è½½ç¼“æ…¢é—®é¢˜çš„ä¿®å¤","name":"html-webpack-plugin 4.x å¯¹å¤šæ¨¡æ¿ä¸‹çƒ­é‡è½½ç¼“æ…¢é—®é¢˜çš„ä¿®å¤","description":"å‰è¨€ æ‰‹ä¸Šçš„å…¬å¸é¡¹ç›®çƒ­é‡è½½ä¸€ç›´å¾ˆæ…¢ï¼Œæ¯æ¬¡çƒ­é‡è½½å¤§æ¦‚è¦ 15s å·¦å³ï¼Œæœ€è¿‘å®åœ¨å¿æ— å¯å¿ï¼Œå†³å®šæ’æŸ¥ä¸€ä¸‹ã€‚\nçŒœæƒ³ é¡¹ç›®æ˜¯åŸºäº vue-cli2 æ­å»ºçš„ï¼Œå‰äººå°† webpack å‡çº§åˆ°äº† webpack4ã€‚å‡ºäºå†å²åŸå› ï¼Œå…¬å¸é¡¹ç›®çš„æ¨¡å—æ˜¯æ ¹æ®æ¨¡æ¿ï¼ˆ.htmlï¼‰åˆ’åˆ†çš„ï¼Œå› æ­¤é¡¹ç›®ä¸­å­˜åœ¨è¶…è¿‡ 30 ä¸ªæ¨¡æ¿ã€‚è¿™è®©æˆ‘æƒ³èµ·äº†ä¹‹å‰åœ¨ä¼˜åŒ–ä¸€ä¸ª webpack3 é¡¹ç›®çš„æ—¶å€™ï¼Œä¹Ÿé‡åˆ°è¿‡ç±»ä¼¼çš„å¤šæ¨¡æ¿çƒ­é‡è½½ç¼“æ…¢çš„æƒ…å†µï¼Œå½“æ—¶æ˜¯ä½¿ç”¨ html-webpack-plugin-for-multihtml åº“ è§£å†³äº†é—®é¢˜ï¼Œå› æ­¤æˆ‘æƒ³ï¼Œè¿™æ¬¡ä¼šä¸ä¼šä¹Ÿæ˜¯ html-webpack-plugin çš„é”…å‘¢ï¼Ÿ\nå‡çº§ html-webpack-plugin é—®é¢˜è§£å†³ æˆ‘å°è¯•æŠŠ html-webpack-plugin å‡çº§åˆ°äº†æœ€æ–°çš„ @4.0.0-beta.8 ç‰ˆæœ¬ï¼Œå‘ç°çƒ­é‡è½½é€Ÿåº¦é™åˆ°äº† 1s å·¦å³ï¼\né—®é¢˜è§£å†³äº†ï¼Œå¯æ˜¯å…¶ä¸­çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nä½¿ç”¨ cpuprofile-webpack-plugin è¿›è¡Œæ€§èƒ½åˆ†æ cpuprofile-webpack-plugin æ˜¯ä¸€ä¸ªå›¾å½¢åŒ–çš„ webpack æ„å»ºæ€§èƒ½åˆ†æå·¥å…·ï¼Œå®ƒä¼šç»Ÿè®¡æ„å»ºè¿‡ç¨‹ä¸­æ¯ä¸ªæ’ä»¶è¿è¡Œçš„æ—¶é—´ï¼Œè¿˜ä¼šç”Ÿæˆæ•´ä¸ªæ„å»ºè¿‡ç¨‹çš„ç«ç„°å›¾ï¼Œå¦‚ä¸‹å›¾ï¼Œå®ƒè®°å½•äº†æˆ‘çš„é¡¹ç›®ä½¿ç”¨ html-webpack-plugin@3.2.0 æ—¶ä¸€æ¬¡çƒ­é‡è½½çš„æ€§èƒ½åˆ†æï¼š\n å›¾ï¼šcpuprofile-webpack-plugin åˆ†æç»“æœ\n æˆ‘ä»¬å‘ç°åœ¨æ•´ä¸ª 15.94s çš„çƒ­é‡è½½è¿‡ç¨‹ä¸­ï¼Œhtml-webpack-plugin çš„è¿è¡Œæ—¶é—´å æ®äº† 13.51sï¼Œå¯ä»¥è¯´å‡ ä¹å…¨éƒ¨æ—¶é—´éƒ½ç”¨åœ¨äº†è¿™ä¸Šé¢ï¼Œè¿™ä¸ªå›¾ä¹ŸéªŒè¯äº†æˆ‘çš„çŒœæƒ³ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç«ç„°å›¾è¿›ä¸€æ­¥åˆ†æï¼Œé¦–å…ˆæ‰¾ä¸€ä¸ªè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ html-webpack-plugin æ‰§è¡Œè¿‡ç¨‹ï¼š\n å›¾ï¼šä¸€æ¬¡æ—¶é—´è¾ƒé•¿çš„ html-webpack-plugin è¿è¡Œ\n ç‚¹å‡»è¿›å»ï¼ŒæŸ¥çœ‹æ›´è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æï¼š\n å›¾ï¼šhtml-webpack-plugin è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æ\n å‘ç°å…¨éƒ¨è€—æ—¶é›†ä¸­åœ¨ html-webpack-plugin/index.js -\u0026gt; templateParametersGenerator -\u0026gt; toJson å‡½æ•°ä¸Šã€‚\næŸ¥çœ‹æºç  é¦–å…ˆæŸ¥çœ‹äº†æœ€æ–°ç‰ˆï¼ˆ4.0.0-beta.8ï¼‰ä¸­ templateParametersGenerator æ–¹æ³•çš„æºç ï¼Œå¯ä»¥çœ‹å‡ºå®ƒæ˜¯ç”¨æ¥ç”Ÿæˆ templateParameters çš„é»˜è®¤é…ç½®çš„ï¼Œè€Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­å®ƒå¹¶æ²¡æœ‰è°ƒç”¨ toJson æ–¹æ³•ï¼š","keywords":["Engineering"],"articleBody":"å‰è¨€ æ‰‹ä¸Šçš„å…¬å¸é¡¹ç›®çƒ­é‡è½½ä¸€ç›´å¾ˆæ…¢ï¼Œæ¯æ¬¡çƒ­é‡è½½å¤§æ¦‚è¦ 15s å·¦å³ï¼Œæœ€è¿‘å®åœ¨å¿æ— å¯å¿ï¼Œå†³å®šæ’æŸ¥ä¸€ä¸‹ã€‚\nçŒœæƒ³ é¡¹ç›®æ˜¯åŸºäº vue-cli2 æ­å»ºçš„ï¼Œå‰äººå°† webpack å‡çº§åˆ°äº† webpack4ã€‚å‡ºäºå†å²åŸå› ï¼Œå…¬å¸é¡¹ç›®çš„æ¨¡å—æ˜¯æ ¹æ®æ¨¡æ¿ï¼ˆ.htmlï¼‰åˆ’åˆ†çš„ï¼Œå› æ­¤é¡¹ç›®ä¸­å­˜åœ¨è¶…è¿‡ 30 ä¸ªæ¨¡æ¿ã€‚è¿™è®©æˆ‘æƒ³èµ·äº†ä¹‹å‰åœ¨ä¼˜åŒ–ä¸€ä¸ª webpack3 é¡¹ç›®çš„æ—¶å€™ï¼Œä¹Ÿé‡åˆ°è¿‡ç±»ä¼¼çš„å¤šæ¨¡æ¿çƒ­é‡è½½ç¼“æ…¢çš„æƒ…å†µï¼Œå½“æ—¶æ˜¯ä½¿ç”¨ html-webpack-plugin-for-multihtml åº“ è§£å†³äº†é—®é¢˜ï¼Œå› æ­¤æˆ‘æƒ³ï¼Œè¿™æ¬¡ä¼šä¸ä¼šä¹Ÿæ˜¯ html-webpack-plugin çš„é”…å‘¢ï¼Ÿ\nå‡çº§ html-webpack-plugin é—®é¢˜è§£å†³ æˆ‘å°è¯•æŠŠ html-webpack-plugin å‡çº§åˆ°äº†æœ€æ–°çš„ @4.0.0-beta.8 ç‰ˆæœ¬ï¼Œå‘ç°çƒ­é‡è½½é€Ÿåº¦é™åˆ°äº† 1s å·¦å³ï¼\né—®é¢˜è§£å†³äº†ï¼Œå¯æ˜¯å…¶ä¸­çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nä½¿ç”¨ cpuprofile-webpack-plugin è¿›è¡Œæ€§èƒ½åˆ†æ cpuprofile-webpack-plugin æ˜¯ä¸€ä¸ªå›¾å½¢åŒ–çš„ webpack æ„å»ºæ€§èƒ½åˆ†æå·¥å…·ï¼Œå®ƒä¼šç»Ÿè®¡æ„å»ºè¿‡ç¨‹ä¸­æ¯ä¸ªæ’ä»¶è¿è¡Œçš„æ—¶é—´ï¼Œè¿˜ä¼šç”Ÿæˆæ•´ä¸ªæ„å»ºè¿‡ç¨‹çš„ç«ç„°å›¾ï¼Œå¦‚ä¸‹å›¾ï¼Œå®ƒè®°å½•äº†æˆ‘çš„é¡¹ç›®ä½¿ç”¨ html-webpack-plugin@3.2.0 æ—¶ä¸€æ¬¡çƒ­é‡è½½çš„æ€§èƒ½åˆ†æï¼š\n å›¾ï¼šcpuprofile-webpack-plugin åˆ†æç»“æœ\n æˆ‘ä»¬å‘ç°åœ¨æ•´ä¸ª 15.94s çš„çƒ­é‡è½½è¿‡ç¨‹ä¸­ï¼Œhtml-webpack-plugin çš„è¿è¡Œæ—¶é—´å æ®äº† 13.51sï¼Œå¯ä»¥è¯´å‡ ä¹å…¨éƒ¨æ—¶é—´éƒ½ç”¨åœ¨äº†è¿™ä¸Šé¢ï¼Œè¿™ä¸ªå›¾ä¹ŸéªŒè¯äº†æˆ‘çš„çŒœæƒ³ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç«ç„°å›¾è¿›ä¸€æ­¥åˆ†æï¼Œé¦–å…ˆæ‰¾ä¸€ä¸ªè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ html-webpack-plugin æ‰§è¡Œè¿‡ç¨‹ï¼š\n å›¾ï¼šä¸€æ¬¡æ—¶é—´è¾ƒé•¿çš„ html-webpack-plugin è¿è¡Œ\n ç‚¹å‡»è¿›å»ï¼ŒæŸ¥çœ‹æ›´è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æï¼š\n å›¾ï¼šhtml-webpack-plugin è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æ\n å‘ç°å…¨éƒ¨è€—æ—¶é›†ä¸­åœ¨ html-webpack-plugin/index.js - templateParametersGenerator - toJson å‡½æ•°ä¸Šã€‚\næŸ¥çœ‹æºç  é¦–å…ˆæŸ¥çœ‹äº†æœ€æ–°ç‰ˆï¼ˆ4.0.0-beta.8ï¼‰ä¸­ templateParametersGenerator æ–¹æ³•çš„æºç ï¼Œå¯ä»¥çœ‹å‡ºå®ƒæ˜¯ç”¨æ¥ç”Ÿæˆ templateParameters çš„é»˜è®¤é…ç½®çš„ï¼Œè€Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­å®ƒå¹¶æ²¡æœ‰è°ƒç”¨ toJson æ–¹æ³•ï¼š\n å›¾ï¼š4.0.0-beta.8 templateParametersGenerator çš„è°ƒç”¨\n  å›¾ï¼š4.0.0-beta.8 templateParametersGenerator çš„å®šä¹‰\n ç„¶åå›æº¯ 3.2.0 ç‰ˆæœ¬ä¹‹å‰çš„æäº¤ï¼Œç»ˆäºè§åˆ°äº†å®ƒçš„è°ƒç”¨ï¼Œwebpack æ–‡æ¡£ä¸­è§£é‡Š compilation.getStats().toJson() æ˜¯ç”¨æ¥ç”Ÿæˆç¼–è¯‘è¿‡ç¨‹çš„æ€§èƒ½åˆ†æ json æ–‡ä»¶çš„æ–¹æ³•ï¼Œé‚£ä¹ˆç½ªé­ç¥¸é¦–å°±æ˜¯å®ƒäº†ã€‚\n å›¾ï¼š3.2.0 templateParametersGenerator çš„å®šä¹‰\n æŸ¥æ‰¾ä¿®å¤è¿™ä¸ªé—®é¢˜çš„ commit åæ¥æˆ‘å°è¯•äº†æŠŠ html-webpack-plugin çš„ç‰ˆæœ¬å›é€€åˆ° 4.x çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ 4.0.0-alphaï¼Œå‘ç°çƒ­é‡è½½æ€§èƒ½ä¾ç„¶æ˜¯æ²¡é—®é¢˜çš„ï¼Œå› æ­¤æäº¤çš„å®šä½å°±åœ¨ 3.2.0 åˆ° 4.0.0-alpha ä¹‹é—´ï¼Œç»è¿‡ä¸€ç•ªæŸ¥æ‰¾ï¼Œç»ˆäºæ‰¾åˆ°äº†è¿™ä¸ª fixï¼Œå‡ºäºæ€§èƒ½åŸå› ç§»é™¤ compilation.getStats()ï¼š\n å›¾ï¼šfix: Remove compilation.getStats() call for performance reasons\n åè®° å…¶å®è¿™æ¬¡æ’æŸ¥æˆ‘ä¹Ÿèµ°äº†ä¸å°‘å¼¯è·¯ï¼Œä¹‹å‰ä¸€ç›´åœ¨å°è¯•é€šè¿‡é˜…è¯»ä»£ç æŸ¥æ‰¾ï¼Œæ‰¾äº†ä¸€å¤©éƒ½æ‰¾ä¸å‡ºæ¥ï¼Œåæ¥ä½¿ç”¨äº†æ€§èƒ½åˆ†æå·¥å…·æ‰çŸ¥é“è‡ªå·±ä¹‹å‰æœ‰å¤šè ¢ :-)ã€‚æœ¬æ–‡åªæ˜¯ç»™å¤§å®¶è®²ä¸€ä¸ªæ€§èƒ½åˆ†æçš„æ•…äº‹ï¼Œä¸ºå¤§å®¶æä¾›ä¸€äº›æ€è·¯ï¼Œå¸Œæœ›å¤§å®¶çš„ä»£ç éƒ½æ²¡æœ‰bug~\né™„ï¼šhtml-webpack-plugin 4.x é’©å­å‡½æ•°çš„å˜æ›´ ç”±äºæˆ‘çš„ä»£ç é‡Œè¸©äº†è¿™ä¸ªå‘ï¼Œæ‰€ä»¥ç»™å¤§å®¶è®²ä¸€ä¸‹ï¼Œhtml-webpack-plugin 4.x å¯¹é’©å­å‡½æ•°è¿›è¡Œäº†é‡æ„ï¼Œæ³¨æ„æ˜¯é‡æ„ï¼Œä¸æ˜¯æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶åå­—æ”¹äº†ï¼Œä½†æ˜¯æ‰€æœ‰åŠŸèƒ½éƒ½æ˜¯æ²¡æœ‰å˜åŒ–ä¸”ä¸€ä¸€å¯¹åº”çš„ï¼Œä½œè€…çš„ commit é‡Œä½¿ç”¨çš„ badge ä¹Ÿæ˜¯ refactorï¼š\n å›¾ï¼šé’©å­å‡½æ•°é‡æ„çš„ commit\n  å›¾ï¼š3.x é’©å­å‡½æ•°æ–‡æ¡£\n  å›¾ï¼š4.x é’©å­å‡½æ•°æ–‡æ¡£\n  å›¾ï¼š4.x é’©å­å‡½æ•°æ–‡æ¡£\n ","wordCount":"130","inLanguage":"en","datePublished":"2019-10-11T00:00:00Z","dateModified":"2019-10-11T00:00:00Z","author":{"@type":"Person","name":"YYJ"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://geekhouse.top/posts/engineering_html-webpack-plugin_4.x_change/"},"publisher":{"@type":"Organization","name":"GeekHouse | ä¸è‚¥çš„è‚¥ç¾Š","logo":{"@type":"ImageObject","url":"https://geekhouse.top/%3Clink%20/%20abs%20url%3E"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://geekhouse.top/ accesskey=h title="ğŸ‘ GeekHouse (Alt + H)">ğŸ‘ GeekHouse</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://geekhouse.top/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://geekhouse.top/timeline/ title=Timeline>
<span>Timeline</span>
</a>
</li>
<li>
<a href=https://geekhouse.top/about/ title=About>
<span>About</span>
</a>
</li>
<li>
<a href=https://geekhouse.top/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$']],displayMath:[['$$','$$']],processEscapes:!0,processEnvironments:!0,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var b=MathJax.Hub.getAllJax(),a;for(a=0;a<b.length;a+=1)b[a].SourceElement().parentNode.className+=' has-jax'})</script>
<style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
html-webpack-plugin 4.x å¯¹å¤šæ¨¡æ¿ä¸‹çƒ­é‡è½½ç¼“æ…¢é—®é¢˜çš„ä¿®å¤
</h1>
<div class=post-meta>October 11, 2019&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;YYJ&nbsp;|&nbsp;<a href=https://github.com/yyj08070631/yyj08070631.github.io/edit/master/content/posts/engineering_html-webpack-plugin_4.x_change/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header>
<div class=post-content><h2 id=å‰è¨€>å‰è¨€<a hidden class=anchor aria-hidden=true href=#å‰è¨€>#</a></h2>
<p>æ‰‹ä¸Šçš„å…¬å¸é¡¹ç›®çƒ­é‡è½½ä¸€ç›´å¾ˆæ…¢ï¼Œæ¯æ¬¡çƒ­é‡è½½å¤§æ¦‚è¦ <code>15s</code> å·¦å³ï¼Œæœ€è¿‘å®åœ¨å¿æ— å¯å¿ï¼Œå†³å®šæ’æŸ¥ä¸€ä¸‹ã€‚</p>
<h2 id=çŒœæƒ³>çŒœæƒ³<a hidden class=anchor aria-hidden=true href=#çŒœæƒ³>#</a></h2>
<p>é¡¹ç›®æ˜¯åŸºäº vue-cli2 æ­å»ºçš„ï¼Œå‰äººå°† webpack å‡çº§åˆ°äº† webpack4ã€‚å‡ºäºå†å²åŸå› ï¼Œå…¬å¸é¡¹ç›®çš„æ¨¡å—æ˜¯æ ¹æ®æ¨¡æ¿ï¼ˆ.htmlï¼‰åˆ’åˆ†çš„ï¼Œå› æ­¤é¡¹ç›®ä¸­å­˜åœ¨<code>è¶…è¿‡ 30 ä¸ªæ¨¡æ¿</code>ã€‚è¿™è®©æˆ‘æƒ³èµ·äº†ä¹‹å‰åœ¨ä¼˜åŒ–ä¸€ä¸ª webpack3 é¡¹ç›®çš„æ—¶å€™ï¼Œä¹Ÿé‡åˆ°è¿‡ç±»ä¼¼çš„å¤šæ¨¡æ¿çƒ­é‡è½½ç¼“æ…¢çš„æƒ…å†µï¼Œå½“æ—¶æ˜¯ä½¿ç”¨ html-webpack-plugin-for-multihtml åº“ <a href=https://juejin.im/post/6844903813346770958#heading-14 target=_blank>è§£å†³äº†é—®é¢˜</a>ï¼Œå› æ­¤æˆ‘æƒ³ï¼Œè¿™æ¬¡ä¼šä¸ä¼šä¹Ÿæ˜¯ html-webpack-plugin çš„é”…å‘¢ï¼Ÿ</p>
<h2 id=å‡çº§-html-webpack-plugin-é—®é¢˜è§£å†³>å‡çº§ html-webpack-plugin é—®é¢˜è§£å†³<a hidden class=anchor aria-hidden=true href=#å‡çº§-html-webpack-plugin-é—®é¢˜è§£å†³>#</a></h2>
<p>æˆ‘å°è¯•æŠŠ html-webpack-plugin å‡çº§åˆ°äº†æœ€æ–°çš„ @4.0.0-beta.8 ç‰ˆæœ¬ï¼Œå‘ç°çƒ­é‡è½½é€Ÿåº¦<code>é™åˆ°äº† 1s</code> å·¦å³ï¼</p>
<p>é—®é¢˜è§£å†³äº†ï¼Œå¯æ˜¯å…¶ä¸­çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<h2 id=ä½¿ç”¨-cpuprofile-webpack-plugin-è¿›è¡Œæ€§èƒ½åˆ†æ>ä½¿ç”¨ cpuprofile-webpack-plugin è¿›è¡Œæ€§èƒ½åˆ†æ<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨-cpuprofile-webpack-plugin-è¿›è¡Œæ€§èƒ½åˆ†æ>#</a></h2>
<p><a href=https://npmjs.com/package/cpuprofile-webpack-plugin target=_blank>cpuprofile-webpack-plugin</a> æ˜¯ä¸€ä¸ªå›¾å½¢åŒ–çš„ webpack æ„å»ºæ€§èƒ½åˆ†æå·¥å…·ï¼Œå®ƒä¼šç»Ÿè®¡æ„å»ºè¿‡ç¨‹ä¸­æ¯ä¸ªæ’ä»¶è¿è¡Œçš„æ—¶é—´ï¼Œè¿˜ä¼šç”Ÿæˆæ•´ä¸ªæ„å»ºè¿‡ç¨‹çš„<a href=https://github.com/brendangregg/FlameGraph target=_blank>ç«ç„°å›¾</a>ï¼Œå¦‚ä¸‹å›¾ï¼Œå®ƒè®°å½•äº†æˆ‘çš„é¡¹ç›®ä½¿ç”¨ html-webpack-plugin@3.2.0 æ—¶ä¸€æ¬¡çƒ­é‡è½½çš„æ€§èƒ½åˆ†æï¼š</p>
<p><img loading=lazy src=16db9fa2efb02b2d~tplv-t2oaga2asx-image-20211014205338231.image alt="ä¸€æ¬¡æ—¶é—´è¾ƒé•¿çš„ html-webpack-plugin è¿è¡Œ">
</p>
<blockquote>
<p>å›¾ï¼šcpuprofile-webpack-plugin åˆ†æç»“æœ</p>
</blockquote>
<p>æˆ‘ä»¬å‘ç°åœ¨æ•´ä¸ª 15.94s çš„çƒ­é‡è½½è¿‡ç¨‹ä¸­ï¼Œhtml-webpack-plugin çš„è¿è¡Œæ—¶é—´å æ®äº† <code>13.51s</code>ï¼Œå¯ä»¥è¯´å‡ ä¹å…¨éƒ¨æ—¶é—´éƒ½ç”¨åœ¨äº†è¿™ä¸Šé¢ï¼Œè¿™ä¸ªå›¾ä¹ŸéªŒè¯äº†æˆ‘çš„çŒœæƒ³ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç«ç„°å›¾è¿›ä¸€æ­¥åˆ†æï¼Œé¦–å…ˆæ‰¾ä¸€ä¸ªè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ html-webpack-plugin æ‰§è¡Œè¿‡ç¨‹ï¼š</p>
<p><img loading=lazy src=16db9fa2efb02b2d~tplv-t2oaga2asx-image-20211014205410815.image alt="ä¸€æ¬¡æ—¶é—´è¾ƒé•¿çš„ html-webpack-plugin è¿è¡Œ">
</p>
<blockquote>
<p>å›¾ï¼šä¸€æ¬¡æ—¶é—´è¾ƒé•¿çš„ html-webpack-plugin è¿è¡Œ</p>
</blockquote>
<p>ç‚¹å‡»è¿›å»ï¼ŒæŸ¥çœ‹æ›´è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æï¼š</p>
<p><img loading=lazy src=16db9fc2b8dc19d2~tplv-t2oaga2asx-image-20211014205425577.image alt="html-webpack-plugin è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æ">
</p>
<blockquote>
<p>å›¾ï¼šhtml-webpack-plugin è¯¦ç»†çš„è°ƒç”¨æ ˆåˆ†æ</p>
</blockquote>
<p>å‘ç°å…¨éƒ¨è€—æ—¶é›†ä¸­åœ¨ html-webpack-plugin/index.js -> templateParametersGenerator -> toJson å‡½æ•°ä¸Šã€‚</p>
<h2 id=æŸ¥çœ‹æºç >æŸ¥çœ‹æºç <a hidden class=anchor aria-hidden=true href=#æŸ¥çœ‹æºç >#</a></h2>
<p>é¦–å…ˆæŸ¥çœ‹äº†æœ€æ–°ç‰ˆï¼ˆ4.0.0-beta.8ï¼‰ä¸­ templateParametersGenerator æ–¹æ³•çš„æºç ï¼Œå¯ä»¥çœ‹å‡ºå®ƒæ˜¯ç”¨æ¥ç”Ÿæˆ templateParameters çš„é»˜è®¤é…ç½®çš„ï¼Œè€Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­å®ƒå¹¶<code>æ²¡æœ‰è°ƒç”¨ toJson æ–¹æ³•</code>ï¼š</p>
<p><img loading=lazy src=16dba046399214ad~tplv-t2oaga2asx-image-20211014205531379.image alt="4.0.0-beta.8 templateParametersGenerator çš„è°ƒç”¨">
</p>
<blockquote>
<p>å›¾ï¼š4.0.0-beta.8 templateParametersGenerator çš„è°ƒç”¨</p>
</blockquote>
<p><img loading=lazy src=16dba05bf5cf49b7~tplv-t2oaga2asx-image-20211014205542057.image alt="4.0.0-beta.8 templateParametersGenerator çš„å®šä¹‰">
</p>
<blockquote>
<p>å›¾ï¼š4.0.0-beta.8 templateParametersGenerator çš„å®šä¹‰</p>
</blockquote>
<p>ç„¶åå›æº¯ 3.2.0 ç‰ˆæœ¬ä¹‹å‰çš„æäº¤ï¼Œç»ˆäºè§åˆ°äº†å®ƒçš„è°ƒç”¨ï¼Œwebpack æ–‡æ¡£ä¸­è§£é‡Š compilation.getStats().toJson() æ˜¯ç”¨æ¥ç”Ÿæˆç¼–è¯‘è¿‡ç¨‹çš„æ€§èƒ½åˆ†æ json æ–‡ä»¶çš„æ–¹æ³•ï¼Œé‚£ä¹ˆç½ªé­ç¥¸é¦–å°±æ˜¯å®ƒäº†ã€‚</p>
<p><img loading=lazy src=16dba1e46f95607c~tplv-t2oaga2asx-image-20211014205553136.image alt="3.2.0 templateParametersGenerator çš„å®šä¹‰">
</p>
<blockquote>
<p>å›¾ï¼š3.2.0 templateParametersGenerator çš„å®šä¹‰</p>
</blockquote>
<h2 id=æŸ¥æ‰¾ä¿®å¤è¿™ä¸ªé—®é¢˜çš„-commit>æŸ¥æ‰¾ä¿®å¤è¿™ä¸ªé—®é¢˜çš„ commit<a hidden class=anchor aria-hidden=true href=#æŸ¥æ‰¾ä¿®å¤è¿™ä¸ªé—®é¢˜çš„-commit>#</a></h2>
<p>åæ¥æˆ‘å°è¯•äº†æŠŠ html-webpack-plugin çš„ç‰ˆæœ¬å›é€€åˆ° 4.x çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ 4.0.0-alphaï¼Œå‘ç°çƒ­é‡è½½æ€§èƒ½ä¾ç„¶æ˜¯æ²¡é—®é¢˜çš„ï¼Œå› æ­¤æäº¤çš„å®šä½å°±åœ¨ 3.2.0 åˆ° 4.0.0-alpha ä¹‹é—´ï¼Œç»è¿‡ä¸€ç•ªæŸ¥æ‰¾ï¼Œç»ˆäºæ‰¾åˆ°äº†è¿™ä¸ª fixï¼Œ<code>å‡ºäºæ€§èƒ½åŸå› ç§»é™¤ compilation.getStats()</code>ï¼š</p>
<p><img loading=lazy src=16dba2a456d26068~tplv-t2oaga2asx-image-20211014205606393.image alt="fix: Remove compilation.getStats() call for performance reasons">
</p>
<blockquote>
<p>å›¾ï¼šfix: Remove compilation.getStats() call for performance reasons</p>
</blockquote>
<h2 id=åè®°>åè®°<a hidden class=anchor aria-hidden=true href=#åè®°>#</a></h2>
<p>å…¶å®è¿™æ¬¡æ’æŸ¥æˆ‘ä¹Ÿèµ°äº†ä¸å°‘å¼¯è·¯ï¼Œä¹‹å‰ä¸€ç›´åœ¨å°è¯•é€šè¿‡é˜…è¯»ä»£ç æŸ¥æ‰¾ï¼Œæ‰¾äº†ä¸€å¤©éƒ½æ‰¾ä¸å‡ºæ¥ï¼Œåæ¥ä½¿ç”¨äº†æ€§èƒ½åˆ†æå·¥å…·æ‰çŸ¥é“è‡ªå·±ä¹‹å‰æœ‰å¤šè ¢ :-)ã€‚æœ¬æ–‡åªæ˜¯ç»™å¤§å®¶è®²ä¸€ä¸ªæ€§èƒ½åˆ†æçš„æ•…äº‹ï¼Œä¸ºå¤§å®¶æä¾›ä¸€äº›æ€è·¯ï¼Œå¸Œæœ›å¤§å®¶çš„ä»£ç éƒ½æ²¡æœ‰bug~</p>
<h2 id=é™„html-webpack-plugin-4x-é’©å­å‡½æ•°çš„å˜æ›´>é™„ï¼šhtml-webpack-plugin 4.x é’©å­å‡½æ•°çš„å˜æ›´<a hidden class=anchor aria-hidden=true href=#é™„html-webpack-plugin-4x-é’©å­å‡½æ•°çš„å˜æ›´>#</a></h2>
<p>ç”±äºæˆ‘çš„ä»£ç é‡Œè¸©äº†è¿™ä¸ªå‘ï¼Œæ‰€ä»¥ç»™å¤§å®¶è®²ä¸€ä¸‹ï¼Œhtml-webpack-plugin 4.x å¯¹é’©å­å‡½æ•°è¿›è¡Œäº†<code>é‡æ„</code>ï¼Œæ³¨æ„æ˜¯é‡æ„ï¼Œä¸æ˜¯æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶åå­—æ”¹äº†ï¼Œä½†æ˜¯æ‰€æœ‰åŠŸèƒ½éƒ½æ˜¯æ²¡æœ‰å˜åŒ–ä¸”ä¸€ä¸€å¯¹åº”çš„ï¼Œä½œè€…çš„ commit é‡Œä½¿ç”¨çš„ badge ä¹Ÿæ˜¯ <code>refactor</code>ï¼š</p>
<p><img loading=lazy src=16dba3a6c29b23dc~tplv-t2oaga2asx-image-20211014205624117.image alt="é’©å­å‡½æ•°é‡æ„çš„ commit">
</p>
<blockquote>
<p>å›¾ï¼šé’©å­å‡½æ•°é‡æ„çš„ commit</p>
</blockquote>
<p><img loading=lazy src=16dab7d60edee4a2~tplv-t2oaga2asx-image-20211014205635816.image alt="3.x é’©å­å‡½æ•°æ–‡æ¡£">
</p>
<blockquote>
<p>å›¾ï¼š3.x é’©å­å‡½æ•°æ–‡æ¡£</p>
</blockquote>
<p><img loading=lazy src=16dab819add657e0~tplv-t2oaga2asx-image-20211014205709220.image alt="4.x é’©å­å‡½æ•°æ–‡æ¡£">
</p>
<blockquote>
<p>å›¾ï¼š4.x é’©å­å‡½æ•°æ–‡æ¡£</p>
</blockquote>
<p><img loading=lazy src=16dab8208657e6bc~tplv-t2oaga2asx-image-20211014205718298.image alt="4.x é’©å­å‡½æ•°æ–‡æ¡£">
</p>
<blockquote>
<p>å›¾ï¼š4.x é’©å­å‡½æ•°æ–‡æ¡£</p>
</blockquote>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://geekhouse.top/tags/engineering/>Engineering</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://geekhouse.top/posts/algorithm_bit/>
<span class=title>Â« Prev Page</span>
<br>
<span>ä½è¿ç®—çš„ç®—æ³•åº”ç”¨</span>
</a>
<a class=next href=https://geekhouse.top/posts/algorithm_sort/>
<span class=title>Next Page Â»</span>
<br>
<span>æ’åºç®—æ³•</span>
</a>
</nav>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://geekhouse.top/>GeekHouse | ä¸è‚¥çš„è‚¥ç¾Š</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>